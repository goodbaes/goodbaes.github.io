<!DOCTYPE html>
<html>
<head>
    <!-- Your HTML page's head content here -->
</head>
<body>
    <!-- Radio buttons to select the container -->
    <input type="radio" id="radio1" name="containerRadio" value="1">
    <label for="radio1">Container 1</label><br>
    <input type="radio" id="radio2" name="containerRadio" value="2">
    <label for="radio2">Container 2</label><br>
    <input type="radio" id="radio3" name="containerRadio" value="3">
    <label for="radio3">Container 3</label><br>

    <!-- Container to display the selected subscription data and index -->
    <div id="selectedContainerData"></div>

    <!-- Next button to navigate between containers -->
    <button onclick="showSelectedContainer()">Show Selected Container</button>

    <!-- Continue button to send picked ID to Flutter -->
    <button onclick="sendPickedIdToFlutter()">Continue</button>

    <script>
        // Array to store the subscription data sent from Flutter
        var subscriptionData = [];
        // Variable to store the picked ID
        var pickedId = null;

        // Function to display the selected container
        function showSelectedContainer() {
            // Get the selected radio button value
            var selectedContainerValue = document.querySelector('input[name="containerRadio"]:checked').value;
            var selectedContainer = document.getElementById('container' + selectedContainerValue);

            // Show the selected container data and index
            document.getElementById('selectedContainerData').innerText = selectedContainer.innerText;

            // Store the picked ID
            pickedId = selectedContainerValue;
        }

        // Function to send the picked ID to Flutter
        function sendPickedIdToFlutter() {
            if (pickedId !== null) {
                // Send the picked ID to the Flutter app through the JavaScript channel
                window.flutter_inappwebview.callHandler('flutter_inappwebview_continue_button', pickedId);
            } else {
                alert('Please select a container before continuing.');
            }
        }

        // Function to receive the data from Flutter and store it in the array
        function receiveDataFromFlutter(data) {
            subscriptionData.push(data);
            if (subscriptionData.length <= 3) {
                var container = document.getElementById('container' + subscriptionData.length);
                container.innerText = data;
            }
        }

        // Add an event listener for when the page is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Call the receiveDataFromFlutter function with the data from Flutter
            window.flutter_inappwebview.callHandler('getDataFromFlutter', null, receiveDataFromFlutter);
        });
    </script>
</body>
</html>
